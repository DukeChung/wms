@using NBK.WMS.Portal.Helpers
@model NBK.ECService.WMS.DTO.PrintVanningDetailDto

@{
    Layout = null;
}
@* ------------------------装箱单模板---------------------- *@
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui" />
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/Print.css" rel="stylesheet" />


<div class="">
    <div class="ibox-content  m-b-sm border-bottom">
        <form id="PurchaseForm" class="form-horizontal">
            <div class="form-group">
                <div class="col-xs-12" style="text-align:left">
                    <H1 style="color: red; text-align: left">装箱单</H1>
                </div>
            </div>
            <div class="form-group line-dashed">
                <div class="col-xs-12">
                </div>
            </div>
            <div class="form-group">
                @Html.PrintTitle("订单号", Model.PlatformOrder)
                @Html.PrintTitle("收货人", Model.ConsigneeName)
                @Html.PrintTitle("收货地址", Model.DetailAddress)

            </div>
            <div>
                @Html.PrintTitle("联系电话", Model.ConsigneePhone)
                @Html.PrintTitle("出库单号", Model.OutboundOrder)
                @Html.PrintTitle("装箱箱号", Model.VanningOrder + "-" + Model.ContainerNumber)
            </div>
            <div class="form-group">
                @Html.PrintTitle("打印时间", DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss"))
                @Html.PrintTitle("重量", Model.Weight.ToString("F2"))
            </div>

            <div class="form-group">
                <div class="col-xs-12" style="width:95%">
                    <table class="table">
                        <tr>
                            @Html.PrintTh("商品编码")
                            @Html.PrintTh("UPC")
                            @Html.PrintTh("商品名称")
                            @Html.PrintTh("商品描述")
                            @*@Html.PrintTh("单位")*@
                            @Html.PrintTh("单价")
                            @Html.PrintTh("数量")
                            @Html.PrintTh("小计（元）")
                        </tr>
                        @{
                            foreach (var info in Model.PrintVanningDetailSkuDtoList)
                            {
                                <tr>
                                    @Html.PrintTd(info.OtherId)
                                    @Html.PrintTd(info.UPC)  @Html.PrintTd(info.SkuName + "<span style='font-weight: bold;'>" + info.IsGiftName + "</span>")
                                    @Html.PrintTd(info.SkuDescr)
                                    @*@Html.PrintTd(info.UOMCode)*@
                                    @Html.PrintTd($"￥{info.Price.ToString("F2")}")
                                    @Html.PrintTd(info.Qty.ToString())
                                    @Html.PrintTd($"￥{info.TotalPrice.ToString("F2")}")
                                </tr>
                            }
                        }

                    </table>
                </div>
            </div>


            <div class="form-group">
                <div class='col-xs-8'>
                    @*@Html.PrintTitle("打印人", this.ViewData["PrintUserName"].ToString(), 6)*@
                </div>
                <div class='col-xs-4 PrintTitle'>
                    @{
                        if (ViewBag.ActionType == "Finish")
                        {
                            <div class="row" style="font-weight:normal">
                                <div class="col-xs-6">商品总数：</div>
                                <div class="col-xs-6 text-left">@Model.TotalOrderQty</div>
                            </div>
                            <div class="row" style="font-weight:normal">
                                <div class="col-xs-6">商品总金额：</div>
                                <div class="col-xs-6 text-left">￥@Model.TotalPrice</div>
                            </div>
                            <div class="row" style="font-weight:normal">
                                <div class="col-xs-6">订单折扣：</div>
                                <div class="col-xs-6 text-left" style="color:#f00">￥@Model.DiscountPrice</div>
                            </div>
                            <div class="row" style="font-weight:normal">
                                <div class="col-xs-6">优惠券：</div>
                                <div class="col-xs-6 text-left" style="color:#f00">￥@Model.CouponPrice</div>
                            </div>
                            <div class="row" style="font-weight:normal">
                                <div class="col-xs-6">运费：</div>
                                <div class="col-xs-6 text-left">￥@Model.Freight</div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" style="font-weight:normal;">总计金额：</div>
                                <div class="col-xs-6 text-left">￥@Model.TotalOrderPrice</div>
                            </div>
                        }
                    }
                </div>
            </div>

            <div class="form-group">
                <div class="col-xs-12" style="width:95%;margin-top:50px;">
                    <table class="table">
                        <tr>
                            <td style='padding: 8px;line-height: 1.42857143;vertical-align: top;border-top:1px solid #ddd;text-align: left;font-family: 宋体;'>销售单据，请妥善保管。如有退货，请随商品一同返还本装箱清单，感谢合作</td>
                        </tr>
                    </table>
                </div>
            </div>
        </form>
    </div>
</div> 